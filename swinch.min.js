/*!
 * swinch v0.1.0
 *
 * A lightweight, customisable, horizontal touch detection script
 *
 * Copyright (c) 2014 Matt Stow
 *
 * http://mattstow.com
 *
 * Licensed under the MIT license
*/
window.swinch=function(t,s){t&&(this.options=s||{},this.thresholdDuration=this.options.thresholdDuration||50,this.thresholdDistance=this.options.thresholdDistance||30,this.onMove=this.options.onMove||function(){},this.onEnd=this.options.onEnd||function(){},t.addEventListener&&(t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("touchcancel",this,!1)))},swinch.prototype={handleEvent:function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchcancel":case"touchend":this.onTouchEnd(t)}},onTouchStart:function(t){this.start={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:Number(new Date)},this.isScrolling=void 0,this.deltaX=0,t.stopPropagation()},onTouchMove:function(t){t.touches.length>1||t.scale&&1!==t.scale||(this.deltaX=t.touches[0].pageX-this.start.pageX,"undefined"==typeof this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(t.touches[0].pageY-this.start.pageY))),this.isScrolling||(t.preventDefault(),t.stopPropagation(),this.onMove(this.deltaX,this.deltaX<0?"left":"right")))},onTouchEnd:function(t){var s=Number(new Date)-this.start.time>this.thresholdDuration&&Math.abs(this.deltaX)>this.thresholdDistance;!this.isScrolling&&s&&this.onEnd(this.deltaX,this.deltaX<0?"left":"right",Number(new Date)-this.start.time),t.stopPropagation()}};